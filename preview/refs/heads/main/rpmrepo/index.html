<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <title>Rpmrepo</title>
    <meta name="title" content="Rpmrepo" />
    <meta property="og:title" content="Rpmrepo" />



    <meta name="description" content="RPM Repository Snapshots
" />
    <meta property="og:description" content="RPM Repository Snapshots
" />


    <meta name="author" content="OSBuild Developers" />

    <link rel="shortcut icon" href="/preview/refs/heads/main/images/osbuild.ico" />
    <link rel="stylesheet" type="text/css" href="/preview/refs/heads/main/stylesheets/style.css" />
    <link rel="stylesheet" type="text/css" href="/preview/refs/heads/main/stylesheets/media-icons.css" />

    <link rel="alternate" type="application/atom+xml" title="OSBuild" href="/preview/refs/heads/main/feed.xml" />

  </head>


  <body>
    <header class="tc pv4">
      <div>
        <a href="/preview/refs/heads/main/">
          <img class="h3 w3"
               alt="Back to home"
               src="/preview/refs/heads/main/images/osbuild.png" />
        </a>
        <h1 class="f5 f4-ns fw6 black-70">OSBuild</h1>
        <h2 class="f6 black-70 fw2 ttu tracked">Build-Pipelines for Operating System Artifacts</h2>
      </div>

      <nav class="lh-copy">
        <a href="/preview/refs/heads/main/"
           class="mh2 link blue hover-mid-gray">Home</a>
        <a href="/preview/refs/heads/main/news/"
           class="mh2 link blue hover-mid-gray">News</a>
        <a href="/preview/refs/heads/main/documentation/"
           class="mh2 link blue hover-mid-gray">Documentation</a>

        <a href="https://github.com/osbuild"
           class="mh2 link blue hover-mid-gray">@GitHub</a>

      </nav>
    </header>

    <main class="mw7 overflow-hidden
                 center
                 bt b--light-gray
                 lh-copy markdown">
<article class="pv4 ph2">
<h1 id="rpm-repository-snapshots">RPM Repository Snapshots</h1>

<p>For reliable continuous development, the OSBuild project employs its own RPM
repository snapshots. These snapshots are persistent and immutable. They are
meant to be used by test farms, CI systems, and other development tools, in
case the official RPM repositories are not suitable.</p>

<hr />

<p><strong>WARNING</strong>: <em>These snapshots are not meant for production use! No guarantee of
safety, applicability, or fitness for a particular purpose is made. No security
fixes are applied to the repositories!</em></p>

<hr />

<h2 id="target-repositories">Target Repositories</h2>

<p>The authoritative list of repositories that we target can be found in the
<code class="language-plaintext highlighter-rouge">./repo/</code> subdirectory of the <code class="language-plaintext highlighter-rouge">rpmrepo</code> repository:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://github.com/osbuild/rpmrepo/tree/main/repo
</code></pre></div></div>

<p>This directory contains a configuration for each target repository, including
the Base-URL that will be sourced for snapshots. The following list contains an
overview (possibly outdated) of the repositories we create snapshots for:</p>

<hr />

<table>
  <thead>
    <tr>
      <th>Platform</th>
      <th style="text-align: center">Version</th>
      <th style="text-align: center">Architectures</th>
      <th>Lifetime</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Fedora</td>
      <td style="text-align: center">31</td>
      <td style="text-align: center">x86_64</td>
      <td>(obsolete)</td>
    </tr>
    <tr>
      <td>Fedora</td>
      <td style="text-align: center">32</td>
      <td style="text-align: center">x86_64</td>
      <td>(obsolete)</td>
    </tr>
    <tr>
      <td>Fedora</td>
      <td style="text-align: center">33</td>
      <td style="text-align: center">x86_64</td>
      <td>12 months</td>
    </tr>
    <tr>
      <td>Fedora</td>
      <td style="text-align: center">34</td>
      <td style="text-align: center">x86_64</td>
      <td>12 months</td>
    </tr>
    <tr>
      <td>Fedora</td>
      <td style="text-align: center">35</td>
      <td style="text-align: center">x86_64</td>
      <td>12 months</td>
    </tr>
    <tr>
      <td>RHEL</td>
      <td style="text-align: center">8.2</td>
      <td style="text-align: center">aarch64, ppc64le, s390x, x86_64</td>
      <td>infinite?</td>
    </tr>
    <tr>
      <td>RHEL</td>
      <td style="text-align: center">8.3</td>
      <td style="text-align: center">aarch64, ppc64le, s390x, x86_64</td>
      <td>infinite?</td>
    </tr>
    <tr>
      <td>RHEL</td>
      <td style="text-align: center">8.4</td>
      <td style="text-align: center">aarch64, ppc64le, s390x, x86_64</td>
      <td>infinite?</td>
    </tr>
    <tr>
      <td>RHEL</td>
      <td style="text-align: center">8.5</td>
      <td style="text-align: center">aarch64, ppc64le, s390x, x86_64</td>
      <td>infinite?</td>
    </tr>
    <tr>
      <td>RHEL</td>
      <td style="text-align: center">9.0</td>
      <td style="text-align: center">aarch64, ppc64le, s390x, x86_64</td>
      <td>infinite?</td>
    </tr>
  </tbody>
</table>

<hr />

<p>Each target repository has an ID-string that identifies it (which also is the
filename of its target configuration file in the <code class="language-plaintext highlighter-rouge">./repo/</code> directory). Whenever
a snapshot is created, the snapshot will be identified by that ID-string
suffixed with the date it was created (and possibly some other suffix
identifiers).</p>

<p>An enumeration of all available snapshots of all target repositories can be
retrieved via:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ curl -s https://rpmrepo.osbuild.org/v2/enumerate | jq .
</code></pre></div></div>

<p>For a given target repository ID-string like <code class="language-plaintext highlighter-rouge">el9-x86_64-baseos-n9.0</code>, the list
of available snapshots can be queried via:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ curl -s https://rpmrepo.osbuild.org/v2/enumerate/el9-x86_64-baseos-n9.0 | jq .
</code></pre></div></div>

<h2 id="usage">Usage</h2>

<p>We provide an RPM repository for every snapshot, accessible via
<code class="language-plaintext highlighter-rouge">rpmrepo.osbuild.org</code>. The <em>Base URL</em> for a given snapshot is:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://rpmrepo.osbuild.org/v2/mirror/&lt;storage&gt;/&lt;platform&gt;/&lt;snapshot&gt;/
</code></pre></div></div>

<p>The parameters are:</p>

<hr />

<table>
  <thead>
    <tr>
      <th>Key</th>
      <th style="text-align: center">Value</th>
      <th style="text-align: center">Examples</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><em>&lt;storage&gt;</em></td>
      <td style="text-align: center"><em>public</em>, <em>rhvpn</em></td>
      <td style="text-align: center"><em>public</em>, <em>rhvpn</em></td>
    </tr>
    <tr>
      <td><em>&lt;platform&gt;</em></td>
      <td style="text-align: center"><em>f&lt;num&gt;</em>, <em>el&lt;num&gt;</em></td>
      <td style="text-align: center"><em>f33</em>, <em>el8</em></td>
    </tr>
    <tr>
      <td><em>&lt;snapshot&gt;</em></td>
      <td style="text-align: center"><em>&lt;tag&gt;</em></td>
      <td style="text-align: center"><em>f33-x86_64-devel-20201010</em></td>
    </tr>
  </tbody>
</table>

<hr />

<p>The <em>storage</em> key selects the actual data store. Available storage includes
<em>public</em> for the anonymous, public storage, <em>rhvpn</em> for data on Red Hat private
infrastructure. The <em>platform</em> key groups the data by platform, required for
data lifetime management. The <em>snapshot</em> key selects the individual snapshot.</p>

<p>Note that not all data is available on all storage locations and platforms. If
you select the wrong combination, you will get <em>404</em> replies. As a general
rule, you should select the platform based on the snapshot name (e.g., for the
snapshot <em>f33-x86_64-devel-20201010</em> you should use <em>f33</em> as platform). As
storage selector, you should use <em>public</em> for all publicly available data,
<em>rhvpn</em> for Red Hat internal data.</p>

<p>For instance, to access the F33 snapshot <em>f33-x86_64-fedora-202103231401</em>, use:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://rpmrepo.osbuild.org/v2/mirror/public/f33/f33-x86_64-fedora-202103231401/
</code></pre></div></div>

<p>To access the EL8.2 snapshot <em>el8-x86_64-baseos-r8.2-202103231359</em>, use:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://rpmrepo.osbuild.org/v2/mirror/rhvpn/el8/el8-x86_64-baseos-r8.2-202103231359/
</code></pre></div></div>

<h2 id="access">Access</h2>

<p>By default, all snapshots are publicly available, unless they contain
confidential or proprietary data. If you decide to use these snapshots, please
contact the OSBuild Developers and give us a short notice, so we can track the
users and communicate upcoming changes:</p>

<ul>
  <li><strong>RPMrepo Issue Tracker</strong>: <a href="https://github.com/osbuild/rpmrepo/issues">@GitHub</a></li>
  <li><strong>Snapshot Maintainer</strong>: David Rheinsberg</li>
</ul>

</article>

    </main>

    <footer class="tc pv3 bt bb b--light-silver bg-light-gray">

<a href="https://github.com/osbuild"><i class="media-icon github"></i></a>
<a href="/preview/refs/heads/main/feed.xml"><i class="media-icon rss"></i></a>

    </footer>
  </body>
</html>
